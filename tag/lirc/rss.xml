<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>KAIIAK • Posts by &#34;lirc&#34; tag</title>
        <link>https://blog.iakmai.com</link>
        <description></description>
        <language>zh-Hans</language>
        <pubDate>Sat, 31 Oct 2015 21:10:19 +0800</pubDate>
        <lastBuildDate>Sat, 31 Oct 2015 21:10:19 +0800</lastBuildDate>
        <category>Linux</category>
        <category>APUE</category>
        <category>随笔</category>
        <category>vim</category>
        <category>YouCompleteMe</category>
        <category>C</category>
        <category>ACM</category>
        <category>ZOJ</category>
        <category>GOLANG</category>
        <category>SMTP</category>
        <category>Eclipse</category>
        <category>PyDev</category>
        <category>NSQ</category>
        <category>DOCKER</category>
        <category>sqlite</category>
        <category>tree</category>
        <category>vlc</category>
        <category>CSharp</category>
        <category>Python</category>
        <category>树莓派</category>
        <category>PRI.GPIO</category>
        <category>Xshell</category>
        <category>lirc</category>
        <category>openWRT</category>
        <category>Hexo主题</category>
        <category>pylirc</category>
        <category>FFMPEG</category>
        <item>
            <guid isPermalink="true">https://blog.iakmai.com/2015/10/31/%E5%85%B3%E4%BA%8E%E6%A0%91%E8%8E%93%E6%B4%BElirc%E7%9A%84%E9%85%8D%E7%BD%AE/</guid>
            <title>关于树莓派lirc的配置</title>
            <link>https://blog.iakmai.com/2015/10/31/%E5%85%B3%E4%BA%8E%E6%A0%91%E8%8E%93%E6%B4%BElirc%E7%9A%84%E9%85%8D%E7%BD%AE/</link>
            <category>Linux</category>
            <category>树莓派</category>
            <category>lirc</category>
            <pubDate>Sat, 31 Oct 2015 21:10:19 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;记录原因&#34;&gt;&lt;a href=&#34;#记录原因&#34; class=&#34;headerlink&#34; title=&#34;记录原因&#34;&gt;&lt;/a&gt;记录原因&lt;/h2&gt;&lt;p&gt;这是我正在DIY的一个&lt;a href=&#34;https://github.com/kaiiak/NineSky/blob/master/README.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;基于树莓派智能家居&lt;/a&gt;的过程中，配置lirc的一个小问题的总结。&lt;br&gt;因为在网上搜索到的类似的博客给出的解决方式都不可行，所以打算记录下来，方便后来者。&lt;/p&gt;
&lt;h2 id=&#34;事情的起因&#34;&gt;&lt;a href=&#34;#事情的起因&#34; class=&#34;headerlink&#34; title=&#34;事情的起因&#34;&gt;&lt;/a&gt;事情的起因&lt;/h2&gt;&lt;p&gt;安装lirc——一个开源的红外控制的库&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo apt-get install lirc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;配置到这一步时，网络上给出的下一步都是在&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;加载内核模块&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo modprobe lirc_rpi gpio_in_pin=23gpio_out_pin=24 &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然而照着做以后，并不能成功。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;解决方法&#34;&gt;&lt;a href=&#34;#解决方法&#34; class=&#34;headerlink&#34; title=&#34;解决方法&#34;&gt;&lt;/a&gt;解决方法&lt;/h2&gt;&lt;p&gt;配置树莓派的lirc，需要在&lt;code&gt;/boot/config.txt&lt;/code&gt;中添加，在&lt;a href=&#34;https://github.com/raspberrypi/firmware/blob/master/boot/overlays/README&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;这里&lt;/a&gt;找到的。&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;dtoverlay&amp;#x3D;lirc-rpi,gpio_in_pin&amp;#x3D;23,gpio_out_pin&amp;#x3D;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后重启就可以了。&lt;/p&gt;
&lt;p&gt;加载lir_rpi内核模块&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo modprobe lirc_rpi&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;测试&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo mode2 -d /dev/lirc0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;现在就会看到一大串space和pulse交替产生。&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
